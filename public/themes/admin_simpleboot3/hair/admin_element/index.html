<include file="public@header"/>
</head>
<body>
<div class="wrap">
    <ul class="nav nav-tabs">
        <li class="active"><a href="{:url('AdminElement/index')}">组件管理</a></li>
        <li><a href="{:url('AdminElement/add')}">添加组件</a></li>
    </ul>
    <form class="well form-inline margin-top-20" method="post" action="{:url('AdminElement/index')}">
        组件名称:
        <input type="text" class="form-control" name="name" style="width: 150px;" value="{:input('request.name/s','')}" placeholder="请输入组件名称">
        组件类型：
        <select class="form-control" name="type" style="width: 140px;">
            <foreach name="Think.config.property.element_type_select" item="vo">
                <php>$target_selected=input('request.type',999)==$key?"selected='selected'":"";</php>
                <option value="{$key}" {$target_selected}>{$vo}</option>
            </foreach>
        </select>
        <input type="submit" class="btn btn-primary" value="搜索"/>
        <a class="btn btn-danger" href="{:url('AdminElement/index')}">清空</a>
    </form>
    <form method="post" class="js-ajax-form" action="{:url('AdminElement/listOrder')}">
        <div class="table-actions">
            <button type="submit" class="btn btn-primary btn-sm js-ajax-submit">{:lang('SORT')}</button>
        </div>
        <table class="table table-hover table-bordered table-list">
            <thead>
            <tr>
                <th width="50">排序</th>
                <th width="50">ID</th>
                <th>组件名称</th>
                <th>组件</th>
                <th>组件类型</th>
                <th>价格</th>
                <th>是否锁定</th>
                <th width="180">操作</th>
            </tr>
            </thead>
            <tbody>
            <foreach name="elements" item="vo">
                <tr>
                    <td><input name='list_orders[{$vo.id}]' type='text' size='3' value='{$vo.list_order}' class='input-order'></td>
                    <td>{$vo.id}</td>
                    <td>{$vo.name}</td>
                    <eq name="vo.type" value="2">
                        <td><img width="80" height="80" src="__TMPL__/public/assets/images/default-thumbnail.png"/></td>
                        <else/>
                        <td><img width="80" height="80" src="{$vo.image}"/></td>
                    </eq>
                    <td>{$vo.type_str}</td>
                    <td>{$vo.price_str}</td>
                    <td>{$vo.is_lock_str}</td>
                    <td>
                        <a href='{:url("AdminElement/edit",array("id"=>$vo["id"]))}'>{:lang('EDIT')}</a>
                        <neq name="vo.type" value="2">
                            <a href="{:url('AdminElement/deletePost',array('id'=>$vo['id']))}" class="js-ajax-dialog-btn" data-msg="是否删除该组件">删除</a>
                        </neq>
                    </td>
                </tr>
            </foreach>
            </tbody>
        </table>
        <div class="pagination">{$page}</div>
    </form>
</div>
<script src="__STATIC__/js/admin.js"></script>
</body>
</html>